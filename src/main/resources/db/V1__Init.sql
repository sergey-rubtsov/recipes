create table ingredient (
    id bigint generated by default as identity,
    category integer not null,
    name varchar(255) not null,
    primary key (id)
);

create table recipe (
    id bigint generated by default as identity,
    instructions varchar(255) not null,
    servings integer not null,
    title varchar(255) not null,
    primary key (id)
);

create table recipe_ingredients (
    recipe_id bigint not null,
    ingredients_id bigint not null
);

alter table ingredient add constraint UK_name unique (name);
alter table recipe add constraint UK_title unique (title);
alter table recipe_ingredients add constraint FK_ingredients_id foreign key (ingredients_id) references ingredient;
alter table recipe_ingredients add constraint FK_recipe_id foreign key (recipe_id) references recipe;

insert into recipe (id, instructions, servings, title) values (1, 'Cook the tortilla. Cooking the eggs. Finishing the tacos', 1, 'Fried Egg Taco');
insert into ingredient (id, category, name) values (1, 1, 'Egg');
insert into ingredient (id, category, name) values (2, 0, 'Taco');
insert into recipe_ingredients (recipe_id, ingredients_id) values (1, 1);
insert into recipe_ingredients (recipe_id, ingredients_id) values (1, 2);

insert into recipe (id, instructions, servings, title) values (2, 'Rinse the rice. Add the rice and water to the cooker. Cook', 1, 'Instant Pot Rice');
insert into ingredient (id, category, name) values (3, 0, 'Rice');
insert into ingredient (id, category, name) values (4, 0, 'Salt');
insert into ingredient (id, category, name) values (5, 0, 'Water');
insert into recipe_ingredients (recipe_id, ingredients_id) values (2, 3);
insert into recipe_ingredients (recipe_id, ingredients_id) values (2, 4);
insert into recipe_ingredients (recipe_id, ingredients_id) values (2, 5);

insert into recipe (id, instructions, servings, title) values (3, 'Preheat oven and roasting pan. Peel and cut sweet potatoes into wedges. Toss with oil, salt, spices. Spread out onto preheated pan. Bake', 1, 'Sweet Potato Fries');
insert into ingredient (id, category, name) values (6, 0, 'Sweet potatoes');
insert into ingredient (id, category, name) values (7, 0, 'Extra virgin olive oil');
insert into ingredient (id, category, name) values (8, 0, 'Kosher salt');
insert into ingredient (id, category, name) values (9, 0, 'Chipotle powder');
insert into recipe_ingredients (recipe_id, ingredients_id) values (3, 6);
insert into recipe_ingredients (recipe_id, ingredients_id) values (3, 7);
insert into recipe_ingredients (recipe_id, ingredients_id) values (3, 8);
insert into recipe_ingredients (recipe_id, ingredients_id) values (3, 9);